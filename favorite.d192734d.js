document.querySelector(".search-form");const e=new class{async fetchCategories(){try{const e=await fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=1H8y2dY2rihC7fdcuGY6W6JByrUaIDi7"),{results:t}=await e.json();return t.map((e=>e.display_name))}catch(e){console.log("Bad request")}}constructor(){this.offset=20}},t=document.querySelector(".filter-wrapper--categories"),s=document.querySelector(".filters--others");e.fetchCategories();var c=async function(){const c=await e.fetchCategories();if(window.screen.width>=1280){const e=c.slice(0,6),a=c.slice(6);e.push("Others");const n=e.map(((e,t)=>`<span class="filters--category news-category category-${t}">${e}</span>`)).join(""),r=a.map((e=>`<span class="other-category news-category">${e}</span>`)).join("");t.innerHTML=n,s.innerHTML=r;const o=document.querySelector(".category-6");s.style.left=o.offsetLeft+"px"}if(window.screen.width>=768&&window.screen.width<1280){const e=c.slice(0,4),a=c.slice(4);e.push("Others");const n=e.map(((e,t)=>`<span class="filters--category news-category category-${t}">${e}</span>`)).join(""),r=a.map((e=>`<span class="other-category news-category">${e}</span>`)).join("");t.innerHTML=n,s.innerHTML=r;const o=document.querySelector(".category-4");s.style.left=o.offsetLeft+"px"}if(window.screen.width<768){const e=["Categories"],a=c,n=e.map(((e,t)=>`<span class="filters--category news-category category-${t}">${e}</span>`)).join(""),r=a.map((e=>`<span class="other-category news-category">${e}</span>`)).join("");t.innerHTML=n,s.innerHTML=r,s.style.left=e.offsetLeft+"px"}};var a=function(e){const t=document.querySelector(".filters--others");window.screen.width>=1280&&e.target.classList.contains("category-6")&&t.classList.toggle("isOpen"),window.screen.width>=768&&window.screen.width<1280&&e.target.classList.contains("category-4")&&t.classList.toggle("isOpen"),window.screen.width<768&&e.target.classList.contains("category-0")&&t.classList.toggle("isOpen")};var n=function(e){const t=document.querySelector(".filters--others"),s=[...document.querySelectorAll(".news-category")],c=document.querySelector(".category-6");if(function(e){e.forEach((e=>{e.classList.contains("active-category")&&e.classList.remove("active-category")}))}(s),e.target.classList.contains("news-category")&&!e.target.classList.contains("category-6"))return e.target.classList.contains("other-category")&&c.classList.add("active-category"),t.classList.contains("isOPen")&&t.classList.remove("isOPen"),e.target.classList.add("active-category"),e.target.textContent};const r={headerBurger:document.querySelector(".header__burger"),headerMenu:document.querySelector(".header__menu"),body:document.querySelector("body")};function o(){r.headerBurger.classList.toggle("active"),r.headerMenu.classList.toggle("active"),r.body.classList.toggle("lock")}r.headerBurger.addEventListener("click",o);const i=document.querySelector(".filter-wrapper");c(),i.addEventListener("click",a),i.addEventListener("click",(e=>{const t=n(e);console.log(t)}));const l=document.querySelector(".card-container");(async function(e=""){const t=await fetch(`https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=1H8y2dY2rihC7fdcuGY6W6JByrUaIDi7${e}`);if(t.ok)return t.json();throw new Error(t.statusText)})().then((({results:e})=>{console.log(e);const t=e.map((({title:e,abstract:t,media:s,published_date:c,url:a,section:n})=>`<div class = "card">\n        <div class = "card-img-wrapper">\n        <img class="card__img" src='${s[0]["media-metadata"][2].url}' alt="" width="350px" height="500px">\n        <span class="card__btn">add/remove</span>\n        <span class="card__category">${n}</span>\n        </div>\n        <h3 class="card__title">${e}</h3>\n        <p class="card__text">${t}</p>\n        <span class="card__date">published_date: ${c}</span>\n        <a href="${a}">read more</a></div>`)).join("");var s;s=t,l.innerHTML=s})).catch((e=>{console.log(e.message)})),r.headerBurger.addEventListener("click",o);
//# sourceMappingURL=favorite.d192734d.js.map
