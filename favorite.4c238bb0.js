!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i.register("iE7OH",(function(t,n){var r,i;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var i={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),i[e]=t),t}})),i("iE7OH").register(JSON.parse('{"StDo9":"favorite.4c238bb0.js","461xr":"like.8671871f.svg","dWXP1":"notFoundNews_image_mobile_1x.318b3dd6.webp","j9KIQ":"notFoundNews_image_tablet_1x.f59e6edb.webp","dy7Xj":"notFoundNews_image_desktop_1x.d43bee42.webp","cwcOM":"dislike.6673e1b1.svg"}'));var o={};function a(){const e=new URL(o);return JSON.parse(localStorage.getItem("cardsInfo")).filter((e=>!0===e.isFavorite)).map((({isRead:t,img:n,title:r,text:i,date:o,category:a,readMoreLink:s,isFavorite:c},d)=>`<div class = "card">\n          <div class = "card-img-wrapper">\n          <span class="card__read">${t?"Have read":""}</span>\n          <span class="card__btn">Remove from favorite\n          <img class="like" src=${e} alt="Add to favorite" width="16" height="16">\n\n          </span>\n          <span class="card__category">${a}</span>\n          <img class="card__img" src=${n} alt="" width="350px" height="500px">\n        </div>\n        <div class="card-description">\n          <h3 class="card__title">${r}</h3>\n          <p class="card__text">${i}</p>\n          <div class="card__date-creation">\n            <span class="card__date">${o}</span>\n            <a class="card-read-more" href="${s}" target="_blank" rel="noopener noreferrer">Read more</a>\n          </div>\n        </div>\n\n        </div>`)).join("")}function s(e,t){e.innerHTML=t}o=i("aNJCr").getBundleURL("StDo9")+i("iE7OH").resolve("461xr");var c;c=i("aNJCr").getBundleURL("StDo9")+i("iE7OH").resolve("dWXP1");const d=new URL(c);var l;l=i("aNJCr").getBundleURL("StDo9")+i("iE7OH").resolve("j9KIQ");const f=new URL(l);var u;u=i("aNJCr").getBundleURL("StDo9")+i("iE7OH").resolve("dy7Xj");const p=new URL(u);function g(){return`<section class="news-not-found--section">\n    <div class="news-not-found--container">\n      <h2 class="news-not-found--title">We haven't found news from this category</h2>\n      <picture>\n        <source srcset="${d} 1x,\n                        ${d} 2x" media="(max-width: 767px)">\n        <source srcset="${f} 1x,\n                        ${f} 2x" media="(min-width: 768px)">\n        <source srcset="${p} 1x,\n                        ${p} 2x" media="(min-width: 1200px)">\n        <img class="news-not-found--img" src=${d} alt="newspaper on the background of nature" width="250" />\n      </picture>\n    </div>\n  </section>`}var h={};function v(e){if(e.target.classList.contains("card__btn")){const t=e.target.querySelector(".like");if(t.getAttribute("src").includes("dislike")){e.target.childNodes[0].data="Remove from favorite";const n=new URL(o);t.setAttribute("src",n)}else{e.target.childNodes[0].data="Add to favorite";const n=new URL(h);t.setAttribute("src",n)}}}h=i("aNJCr").getBundleURL("StDo9")+i("iE7OH").resolve("cwcOM");let m={options:JSON.parse(localStorage.getItem("cardsInfo"))?JSON.parse(localStorage.getItem("cardsInfo")):[]};function _(e){m.options.push(e),localStorage.setItem("cardsInfo",JSON.stringify(m.options))}function w(e,t,n){for(let r=0;r<n.options.length;r++)n.options[r].title===e&&(!0!==n.options[r][t]?n.options[r][t]=!0:n.options[r].title===e&&"isFavorite"===t&&!0===n.options[r][t]&&(!1===n.options[r].isRead?n.options.splice(r,1):n.options[r].title===e&&"isFavorite"===t&&!0===n.options[r].isRead&&(n.options[r][t]=!1)));localStorage.setItem("cardsInfo",JSON.stringify(n.options))}!function(){let e=document.querySelectorAll(".header__link"),t=document.querySelector("body").id;for(let n of e)n.dataset.active==t&&n.classList.add("current")}();const x=document.querySelector(".favorite-card-container");x.addEventListener("click",(function(e){const t={readMoreLink:"",category:"",img:"",title:"",text:"",date:"",dateOfRead:new Date,isRead:!1,isFavorite:!1};if(e.target.classList.contains("card-read-more")&&"card-read-more"===e.target.className){const n=e.target.parentElement.parentElement.parentElement;t.readMoreLink=n.children[1].children[2].children[1].href,t.category=n.children[0].children[1].textContent,t.img=n.children[0].children[2].currentSrc,t.title=n.children[1].children[0].textContent,t.text=n.children[1].children[1].textContent,t.date=n.children[1].children[2].children[0].textContent,t.dateOfRead=new Date,t.isRead=!0,m.options.length?m.options.map((({title:e})=>{e!==t.title?m.options.find((e=>e.title===t.title))||_(t):w(t.title,"isRead",m)})):_(t)}if(e.target.classList.contains("card__btn")){v(e);const n=e.target.parentElement.parentElement;t.readMoreLink=n.children[1].children[2].children[1].href,t.category=n.children[0].children[1].textContent,t.img=n.children[0].children[2].currentSrc,t.title=n.children[1].children[0].textContent,t.text=n.children[1].children[1].textContent,t.date=n.children[1].children[2].children[0].textContent,t.dateOfRead=new Date,t.isFavorite=!0,m.options.length&&m.options.find((e=>e.title===t.title))?w(t.title,"isFavorite",m):_(t)}}));let S=JSON.parse(localStorage.getItem("cardsInfo"));S?(x.style.display="grid",s(x,a()),x.addEventListener("click",(e=>{if(e.target.classList.contains("card__btn")){const t=e.target.parentNode.parentNode.querySelector(".card__title").textContent,n=S.findIndex((e=>e.title===t));!1===S[n].isRead?S.splice(n,1):(console.log(S[n]),S[n].isFavorite=!1),localStorage.setItem("cardsInfo",JSON.stringify(S));const r=JSON.parse(localStorage.getItem("cardsInfo"));console.log(r.length),r.length?s(x,a()):(x.innerHTML=g(),x.style.display="block")}}))):(x.innerHTML=g(),x.style.display="block")}();
//# sourceMappingURL=favorite.4c238bb0.js.map
