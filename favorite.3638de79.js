function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i.register("kyEFX",(function(t,n){var r,i;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("kyEFX").register(JSON.parse('{"kHKil":"favorite.3638de79.js","75FnL":"like.8671871f.svg","90QzL":"notFoundNews_image_mobile_1x.318b3dd6.webp","fHR3R":"notFoundNews_image_tablet_1x.f59e6edb.webp","gGysF":"notFoundNews_image_desktop_1x.d43bee42.webp","7tpI3":"dislike.6673e1b1.svg"}'));var o={};function a(){const e=new URL(o);return JSON.parse(localStorage.getItem("cardsInfo")).filter((e=>!0===e.isFavorite)).map((({isRead:t,img:n,title:r,text:i,date:o,category:a,readMoreLink:s,isFavorite:c},l)=>`<div class = "card">\n          <div class = "card-img-wrapper">\n          <span class="card__read">${t?"Have read":""}</span>\n          <span class="card__btn">Remove from favorite\n          <img class="like" src=${e} alt="Add to favorite" width="16" height="16">\n\n          </span>\n          <span class="card__category">${a}</span>\n          <img class="card__img" src=${n} alt="" width="350px" height="500px">\n        </div>\n        <div class="card-description">\n          <h3 class="card__title">${r}</h3>\n          <p class="card__text">${i}</p>\n          <div class="card__date-creation">\n            <span class="card__date">${o}</span>\n            <a class="card-read-more" href="${s}" target="_blank" rel="noopener noreferrer">Read more</a>\n          </div>\n        </div>\n\n        </div>`)).join("")}function s(e,t){e.innerHTML=t}o=new URL(i("kyEFX").resolve("75FnL"),import.meta.url).toString();var c;c=new URL(i("kyEFX").resolve("90QzL"),import.meta.url).toString();const l=new URL(c);var d;d=new URL(i("kyEFX").resolve("fHR3R"),import.meta.url).toString();const f=new URL(d);var p;p=new URL(i("kyEFX").resolve("gGysF"),import.meta.url).toString();const g=new URL(p);function u(){return`<section class="news-not-found--section">\n    <div class="news-not-found--container">\n      <h2 class="news-not-found--title">We haven't found news from this category</h2>\n      <picture>\n        <source srcset="${l} 1x,\n                        ${l} 2x" media="(max-width: 767px)">\n        <source srcset="${f} 1x,\n                        ${f} 2x" media="(min-width: 768px)">\n        <source srcset="${g} 1x,\n                        ${g} 2x" media="(min-width: 1200px)">\n        <img class="news-not-found--img" src=${l} alt="newspaper on the background of nature" width="250" />\n      </picture>\n    </div>\n  </section>`}var h={};function m(e){if(e.target.classList.contains("card__btn")){const t=e.target.querySelector(".like");if(t.getAttribute("src").includes("dislike")){e.target.childNodes[0].data="Remove from favorite";const n=new URL(o);t.setAttribute("src",n)}else{e.target.childNodes[0].data="Add to favorite";const n=new URL(h);t.setAttribute("src",n)}}}h=new URL(i("kyEFX").resolve("7tpI3"),import.meta.url).toString();let v={options:JSON.parse(localStorage.getItem("cardsInfo"))?JSON.parse(localStorage.getItem("cardsInfo")):[]};function _(e){v.options.push(e),localStorage.setItem("cardsInfo",JSON.stringify(v.options))}function w(e,t,n){for(let r=0;r<n.options.length;r++)n.options[r].title===e&&(!0!==n.options[r][t]?n.options[r][t]=!0:n.options[r].title===e&&"isFavorite"===t&&!0===n.options[r][t]&&(!1===n.options[r].isRead?n.options.splice(r,1):n.options[r].title===e&&"isFavorite"===t&&!0===n.options[r].isRead&&(n.options[r][t]=!1)));localStorage.setItem("cardsInfo",JSON.stringify(n.options))}!function(){let e=document.querySelectorAll(".header__link"),t=document.querySelector("body").id;for(let n of e)n.dataset.active==t&&n.classList.add("current")}();const b=document.querySelector(".favorite-card-container");b.addEventListener("click",(function(e){const t={readMoreLink:"",category:"",img:"",title:"",text:"",date:"",dateOfRead:new Date,isRead:!1,isFavorite:!1};if(e.target.classList.contains("card-read-more")&&"card-read-more"===e.target.className){const n=e.target.parentElement.parentElement.parentElement;t.readMoreLink=n.children[1].children[2].children[1].href,t.category=n.children[0].children[1].textContent,t.img=n.children[0].children[2].currentSrc,t.title=n.children[1].children[0].textContent,t.text=n.children[1].children[1].textContent,t.date=n.children[1].children[2].children[0].textContent,t.dateOfRead=new Date,t.isRead=!0,v.options.length?v.options.map((({title:e})=>{e!==t.title?v.options.find((e=>e.title===t.title))||_(t):w(t.title,"isRead",v)})):_(t)}if(e.target.classList.contains("card__btn")){m(e);const n=e.target.parentElement.parentElement;t.readMoreLink=n.children[1].children[2].children[1].href,t.category=n.children[0].children[1].textContent,t.img=n.children[0].children[2].currentSrc,t.title=n.children[1].children[0].textContent,t.text=n.children[1].children[1].textContent,t.date=n.children[1].children[2].children[0].textContent,t.dateOfRead=new Date,t.isFavorite=!0,v.options.length&&v.options.find((e=>e.title===t.title))?w(t.title,"isFavorite",v):_(t)}}));let x=JSON.parse(localStorage.getItem("cardsInfo"));x?(b.style.display="grid",s(b,a()),b.addEventListener("click",(e=>{if(e.target.classList.contains("card__btn")){const t=e.target.parentNode.parentNode.querySelector(".card__title").textContent,n=x.findIndex((e=>e.title===t));!1===x[n].isRead?x.splice(n,1):(console.log(x[n]),x[n].isFavorite=!1),localStorage.setItem("cardsInfo",JSON.stringify(x));const r=JSON.parse(localStorage.getItem("cardsInfo"));console.log(r.length),r.length?s(b,a()):(b.innerHTML=u(),b.style.display="block")}}))):(b.innerHTML=u(),b.style.display="block");
//# sourceMappingURL=favorite.3638de79.js.map
