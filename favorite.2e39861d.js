document.querySelector(".search-form");const e=new class{async fetchCategories(){try{const e=await fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=1H8y2dY2rihC7fdcuGY6W6JByrUaIDi7"),{results:t}=await e.json();return t.map((e=>e.display_name))}catch(e){console.log("Bad request")}}constructor(){this.offset=20}},t=document.querySelector(".filter-wrapper--categories"),s=document.querySelector(".filters--others");e.fetchCategories();var a=async function(){const a=await e.fetchCategories();if(window.screen.width>=1280){const e=a.slice(0,6),c=a.slice(6);e.push("Others");const r=e.map(((e,t)=>`<span class="filters--category news-category category-${t}">${e}</span>`)).join(""),n=c.map((e=>`<span class="other-category news-category">${e}</span>`)).join("");t.innerHTML=r,s.innerHTML=n;const o=document.querySelector(".category-6");s.style.left=o.offsetLeft+"px"}if(window.screen.width>=768&&window.screen.width<1280){const e=a.slice(0,4),c=a.slice(4);e.push("Others");const r=e.map(((e,t)=>`<span class="filters--category news-category category-${t}">${e}</span>`)).join(""),n=c.map((e=>`<span class="other-category news-category">${e}</span>`)).join("");t.innerHTML=r,s.innerHTML=n;const o=document.querySelector(".category-4");s.style.left=o.offsetLeft+"px"}if(window.screen.width<768){const e=["Categories"],c=a,r=e.map(((e,t)=>`<span class="filters--category news-category category-${t}">${e}</span>`)).join(""),n=c.map((e=>`<span class="other-category news-category">${e}</span>`)).join("");t.innerHTML=r,s.innerHTML=n,s.style.left=e.offsetLeft+"px"}};var c=function(e){const t=document.querySelector(".filters--others");window.screen.width>=1280&&e.target.classList.contains("category-6")&&t.classList.toggle("isOpen"),window.screen.width>=768&&window.screen.width<1280&&e.target.classList.contains("category-4")&&t.classList.toggle("isOpen"),window.screen.width<768&&e.target.classList.contains("category-0")&&t.classList.toggle("isOpen")};var r=function(e){const t=document.querySelector(".filters--others"),s=[...document.querySelectorAll(".news-category")],a=document.querySelector(".category-6");if(function(e){e.forEach((e=>{e.classList.contains("active-category")&&e.classList.remove("active-category")}))}(s),e.target.classList.contains("news-category")&&!e.target.classList.contains("category-6"))return e.target.classList.contains("other-category")&&(a.classList.add("active-category"),t.classList.remove("isOpen")),t.classList.remove("isOpen"),e.target.classList.add("active-category"),e.target.textContent};const n={headerBurger:document.querySelector(".header__burger"),headerMenu:document.querySelector(".header__menu"),body:document.querySelector("body")};function o(){n.headerBurger.classList.toggle("active"),n.headerMenu.classList.toggle("active"),n.body.classList.toggle("lock")}n.headerBurger.addEventListener("click",o);const i=document.querySelector(".filter-wrapper");a(),i.addEventListener("click",c),i.addEventListener("click",(e=>{r(e)}));const l=document.querySelector(".card-container");(async function(e=""){const t=await fetch(`https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=1H8y2dY2rihC7fdcuGY6W6JByrUaIDi7${e}`);if(t.ok)return t.json();throw new Error(t.statusText)})().then((({results:e})=>{const t=e.map((({title:e,abstract:t,media:s,published_date:a,url:c,section:r},n)=>`<div class = "card ${"card-"+n}">\n        <div class = "card-img-wrapper">\n          <span class="card__btn">Add to favorite\n          <img class="like" src='./images/svg/like.svg' alt="Add to favorite" width="16" height="16">\n\n          </span>\n          <span class="card__category">${r}</span>\n          <img class="card__img" src=${s.length?s[0]["media-metadata"][2].url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1665px-No-Image-Placeholder.svg.png"} alt="" width="350px" height="500px">\n        </div>\n        <div class="card-description">\n          <h3 class="card__title">${e}</h3>\n          <p class="card__text">${t}</p>\n          <div class="card__date-creation">\n            <span class="card__date">${a.split("-").reverse().join("/")}</span>\n            <a class="card-read-more" href="${c}" target="_blank" rel="noopener noreferrer">Read more</a>\n          </div>\n        </div>\n        \n        </div>`)).join("");var s;s=t,l.innerHTML=s})).catch((e=>{console.log(e.message)})),n.headerBurger.addEventListener("click",o);
//# sourceMappingURL=favorite.2e39861d.js.map
